---
id: TASK-4388345
title: ì„¤ì • í˜ì´ì§€ - ìˆ¯ë¶ˆ ì˜ˆì•½ ê¸°ëŠ¥ ON/OFF í† ê¸€ ë° ì‹œê°„ëŒ€ ì˜µì…˜ ê´€ë¦¬ UI
type: task
task_type: feat
status: DONE
priority: high
created: 2025-10-30T12:17:16Z
updated: 2025-10-30T12:26:28Z
assignee: scrum-master
epic: EPIC-556ae5b
dependencies: []
---

# TASK-4388345: ì„¤ì • í˜ì´ì§€ - ìˆ¯ë¶ˆ ì˜ˆì•½ ê¸°ëŠ¥ ON/OFF í† ê¸€ ë° ì‹œê°„ëŒ€ ì˜µì…˜ ê´€ë¦¬ UI

## Description

Admin ì„¤ì • í˜ì´ì§€ì— ìˆ¯ë¶ˆ ì˜ˆì•½ ê¸°ëŠ¥ì˜ ON/OFF í† ê¸€ê³¼ ì˜ˆì•½ ê°€ëŠ¥ ì‹œê°„ëŒ€ ì˜µì…˜ì„ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” UIë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.

## Requirements

- [x] ìƒˆ íƒ­ "ğŸ”¥ ìˆ¯ë¶ˆ ì˜ˆì•½ ì„¤ì •" ì¶”ê°€ (ê¸°ë³¸ ì •ë³´ íƒ­ ë‹¤ìŒ)
- [x] í† ê¸€ ìŠ¤ìœ„ì¹˜ë¡œ ê¸°ëŠ¥ í™œì„±í™”/ë¹„í™œì„±í™” ì œì–´
- [x] í™œì„±í™” ì‹œ ì‹œê°„ëŒ€ ì˜µì…˜ ê´€ë¦¬ UI í‘œì‹œ
- [x] ì‹œê°„ëŒ€ ì˜µì…˜ì„ pill/chip í˜•íƒœë¡œ í‘œì‹œ (ì‚­ì œ ë²„íŠ¼ í¬í•¨)
- [x] ìƒˆ ì‹œê°„ëŒ€ ì˜µì…˜ ì¶”ê°€ ê¸°ëŠ¥ (ì…ë ¥ + ì¶”ê°€ ë²„íŠ¼)
- [x] ì €ì¥ ë²„íŠ¼ìœ¼ë¡œ Supabaseì— ë°ì´í„° ì €ì¥
- [x] ì„±ê³µ/ì‹¤íŒ¨ í† ìŠ¤íŠ¸ ë©”ì‹œì§€ í‘œì‹œ

## Tech Spec

### ì„¤ê³„ ê°œìš”
- **íŒŒì¼**: `app/admin/settings/page.tsx`
- **ê¸°ëŠ¥**: ìˆ¯ë¶ˆ ì˜ˆì•½ ì„¤ì • UI ì¶”ê°€ (ìƒˆ íƒ­)
- **ë°ì´í„°ë² ì´ìŠ¤**: Supabase `campgrounds` í…Œì´ë¸”
  - `enable_charcoal_reservation` (boolean)
  - `charcoal_time_options` (string[])

### UI êµ¬ì¡°

**1. Tab ì¶”ê°€**
- TabTypeì— `'charcoal'` ì¶”ê°€
- íƒ­ ë²„íŠ¼: "ğŸ”¥ ìˆ¯ë¶ˆ ì˜ˆì•½ ì„¤ì •"
- ìœ„ì¹˜: QR ì²´í¬ì¸, í‚¤ì˜¤ìŠ¤í¬ ì•ˆë‚´ë¬¸, ê¸°ë³¸ ì •ë³´ íƒ­ ì‚¬ì´

**2. State ë³€ìˆ˜**
```typescript
const [charcoalEnabled, setCharcoalEnabled] = useState(false)
const [charcoalTimeOptions, setCharcoalTimeOptions] = useState<string[]>(['ì˜¤í›„ 6ì‹œ', 'ì˜¤í›„ 7ì‹œ', 'ì˜¤í›„ 8ì‹œ', 'ì˜¤í›„ 9ì‹œ'])
const [newTimeOption, setNewTimeOption] = useState('')
```

**3. ë°ì´í„° ë¡œë”©**
- useEffectì—ì„œ Supabase ì¡°íšŒ
- `enable_charcoal_reservation`, `charcoal_time_options` ë¡œë“œ
- ê¸°ë³¸ê°’: enabled=false, options=['ì˜¤í›„ 6ì‹œ', 'ì˜¤í›„ 7ì‹œ', 'ì˜¤í›„ 8ì‹œ', 'ì˜¤í›„ 9ì‹œ']

**4. ì €ì¥ í•¸ë“¤ëŸ¬**
- `handleSaveCharcoalSettings()` í•¨ìˆ˜
- Supabase update: `enable_charcoal_reservation`, `charcoal_time_options`
- ì„±ê³µ/ì‹¤íŒ¨ í† ìŠ¤íŠ¸

**5. ì‹œê°„ëŒ€ ê´€ë¦¬**
- `handleAddTimeOption()`: ìƒˆ ì‹œê°„ëŒ€ ì¶”ê°€ (ì¤‘ë³µ ì²´í¬)
- `handleDeleteTimeOption()`: ì‹œê°„ëŒ€ ì‚­ì œ

### API ì„¤ê³„
- **Load**: `GET /campgrounds?id=eq.{campgroundId}`
- **Save**: `PATCH /campgrounds?id=eq.{campgroundId}`
  - Body: `{ enable_charcoal_reservation, charcoal_time_options }`

### ìŠ¤íƒ€ì¼ë§
- ê¸°ì¡´ ì„¤ì • í˜ì´ì§€ì˜ Card, ë²„íŠ¼ ìŠ¤íƒ€ì¼ ì¬ì‚¬ìš©
- Toggle: checkbox input (width: 20px, height: 20px)
- Time pills: background #f3f4f6, border-radius 8px, ì‚­ì œ ë²„íŠ¼ (Ã—)
- Add input + button: flex gap 8px

### ì—ëŸ¬ ì²˜ë¦¬
- campgroundId ì—†ìœ¼ë©´ ê²½ê³  í† ìŠ¤íŠ¸
- ì‹œê°„ëŒ€ ì…ë ¥ ì—†ìœ¼ë©´ alert
- ì¤‘ë³µ ì‹œê°„ëŒ€ ì¶”ê°€ ì‹œ alert
- Supabase ì˜¤ë¥˜ ì‹œ í† ìŠ¤íŠ¸

## Work Log

### 2025-10-30 12:17 - scrum-master
- Task created

### 2025-10-30 12:30 - developer
- Tech Spec ì‘ì„± ì™„ë£Œ
- êµ¬í˜„ ì™„ë£Œ
  - TabTypeì— 'charcoal' ì¶”ê°€
  - State ë³€ìˆ˜ ì¶”ê°€ (charcoalEnabled, charcoalTimeOptions, newTimeOption)
  - useEffectì—ì„œ Supabase ë°ì´í„° ë¡œë”© ì¶”ê°€
  - handleSaveCharcoalSettings(), handleAddTimeOption(), handleDeleteTimeOption() í•¨ìˆ˜ êµ¬í˜„
  - íƒ­ ë„¤ë¹„ê²Œì´ì…˜ì— "ğŸ”¥ ìˆ¯ë¶ˆ ì˜ˆì•½ ì„¤ì •" ë²„íŠ¼ ì¶”ê°€
  - ìˆ¯ë¶ˆ ì˜ˆì•½ ì„¤ì • íƒ­ UI êµ¬í˜„ (í† ê¸€, ì‹œê°„ëŒ€ ê´€ë¦¬, ì €ì¥ ë²„íŠ¼)
- ë¹Œë“œ: âœ… ì„±ê³µ (TypeScript íƒ€ì… ì²´í¬ í†µê³¼)

## Status History

| Timestamp | Status | Agent | Note |
|-----------|--------|-------|------|
| 2025-10-30 12:17 | TODO | scrum-master | Task created |
| 2025-10-30 12:23 | IN_PROGRESS | developer | Starting settings page UI |
| 2025-10-30 12:25 | READY_FOR_TEST | test-engineer | Settings page UI implementation completed |
| 2025-10-30 12:26 | DONE | scrum-master | Settings page UI completed |

## Artifacts

- Branch: feature/EPIC-556ae5b
- Commit: (pending - Scrum Master will create)
- Files Modified:
  - app/admin/settings/page.tsx

## Checklist

- [x] Tech spec written (Developer)
- [x] Code implemented (Developer)
- [x] Type check passed
- [x] Lint passed
- [x] Build succeeded
- [ ] Tests written (Test Engineer)
- [ ] Tests passed

