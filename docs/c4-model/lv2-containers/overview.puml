@startuml CampHost Container Diagram
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml

' ============================================================================
' Level 2: Container Diagram
' ============================================================================
'
' CampHost ì‹œìŠ¤í…œ ë‚´ë¶€ì˜ ì£¼ìš” ì»¨í…Œì´ë„ˆ(ì‹¤í–‰ ë‹¨ìœ„)ë¥¼ í‘œí˜„í•©ë‹ˆë‹¤.
' - Web Application (Next.js)
' - REST API (Next.js API Routes)
' - Browser Storage (localStorage)
' - ì™¸ë¶€ ì‹œìŠ¤í…œê³¼ì˜ ê´€ê³„
'
' ğŸ”— ì´ì „ ë ˆë²¨: lv1-system-context/system.puml
' ğŸ”— ë‹¤ìŒ ë ˆë²¨: lv3-components/*.puml
' ============================================================================

LAYOUT_WITH_LEGEND()

title Container Diagram for CampHost

' ============================================================================
' Actors (ì‚¬ìš©ì)
' ============================================================================

Person(superAdmin, "Super Admin", "ì‹œìŠ¤í…œ ì „ì²´ ê´€ë¦¬ì")
Person(campgroundAdmin, "Campground Admin", "ìº í•‘ì¥ ì‚¬ì¥ë‹˜")
Person(camper, "Camper", "ìº í•‘ ê³ ê°")

' ============================================================================
' System Boundary
' ============================================================================

System_Boundary(camphost, "CampHost") {

    ' ------------------------------------------------------------------------
    ' Web Application
    ' ------------------------------------------------------------------------
    Container(webapp, "Web Application", "Next.js 14.2, React 18, TypeScript", "ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ ì œê³µ\n\n**ì£¼ìš” í˜ì´ì§€:**\n- / (ëœë”©)\n- /super-admin/dashboard\n- /admin/* (ëŒ€ì‹œë³´ë“œ, ì˜ˆì•½, ë§¤ì¶œ)\n- /kiosk (ì²´í¬ì¸/ì²´í¬ì•„ì›ƒ)\n\n**ë Œë”ë§:**\n- SSR (Server-Side Rendering)\n- SSG (Static Site Generation)\n- CSR (Client-Side Rendering)")

    ' ------------------------------------------------------------------------
    ' REST API
    ' ------------------------------------------------------------------------
    Container(api, "REST API", "Next.js API Routes, Node.js", "ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ë° ì™¸ë¶€ ì„œë¹„ìŠ¤ í†µí•©\n\n**ì£¼ìš” ì—”ë“œí¬ì¸íŠ¸:**\n- POST /api/admin/login\n- POST /api/notify/checkin\n- GET/POST /api/dev/*\n\n**ì—­í• :**\n- ì¸ì¦ ë° ê¶Œí•œ ê²€ì¦\n- Supabase ë°ì´í„° ì ‘ê·¼\n- Resend ì´ë©”ì¼ ë°œì†¡")

    ' ------------------------------------------------------------------------
    ' Browser Storage
    ' ------------------------------------------------------------------------
    ContainerDb(localStorage, "Browser Storage", "localStorage", "ì˜¤í”„ë¼ì¸ ì§€ì› ë° ë°ì´í„° ìºì‹±\n\n**ì €ì¥ ë°ì´í„°:**\n- ìº í•‘ì¥ ëª©ë¡\n- ì˜ˆì•½ ì •ë³´ (í´ë°±)\n- ì‚¬ìš©ì ì„¸ì…˜\n\n**ì‚¬ìš© ì‹œì :**\n- ì˜¤í”„ë¼ì¸ ëª¨ë“œ\n- ë„¤íŠ¸ì›Œí¬ ì¥ì•  ì‹œ")

}

' ============================================================================
' External Systems (ì™¸ë¶€ ì‹œìŠ¤í…œ)
' ============================================================================

System_Ext(supabase, "Supabase", "PostgreSQL ë°ì´í„°ë² ì´ìŠ¤\n\n**í…Œì´ë¸”:**\n- campgrounds\n- reservations\n- inquiries\n- dashboard_metrics (view)")

System_Ext(resend, "Resend", "ì´ë©”ì¼ ë°œì†¡ ì„œë¹„ìŠ¤\n\n**ì´ë©”ì¼ ì¢…ë¥˜:**\n- ì²´í¬ì¸ ì•Œë¦¼\n- ê´€ë¦¬ì ì•Œë¦¼")

' ============================================================================
' Relationships (ê´€ê³„)
' ============================================================================

' Users â†’ Web Application
Rel(superAdmin, webapp, "ìº í•‘ì¥ ê´€ë¦¬", "HTTPS\në¸Œë¼ìš°ì €")
Rel(campgroundAdmin, webapp, "ì˜ˆì•½ ê´€ë¦¬", "HTTPS\në¸Œë¼ìš°ì €")
Rel(camper, webapp, "ì²´í¬ì¸/ì²´í¬ì•„ì›ƒ", "HTTPS\në¸Œë¼ìš°ì €")

' Web Application â†’ REST API
Rel(webapp, api, "API í˜¸ì¶œ", "JSON/HTTPS\n- fetch()\n- axios")

' Web Application â†’ Browser Storage
Rel(webapp, localStorage, "ë°ì´í„° ìºì‹±/ì½ê¸°", "JavaScript\n- localStorage.setItem()\n- localStorage.getItem()")

' REST API â†’ Supabase
Rel(api, supabase, "CRUD ì‘ì—…", "REST API\n- SELECT\n- INSERT\n- UPDATE\n- DELETE")

' REST API â†’ Resend
Rel(api, resend, "ì´ë©”ì¼ ì „ì†¡", "REST API\n- POST /emails")

' ============================================================================
' Notes
' ============================================================================

note right of webapp
  **ê¸°ìˆ  ìŠ¤íƒ:**
  - Next.js 14.2 (App Router)
  - React 18.3
  - TypeScript 5.4
  - CSS Modules

  **ì£¼ìš” ë””ë ‰í† ë¦¬:**
  - app/ (í˜ì´ì§€)
  - components/ (UI ì»´í¬ë„ŒíŠ¸)
  - src/hooks/ (ì»¤ìŠ¤í…€ í›…)
  - lib/ (ì„œë¹„ìŠ¤ ë ˆì´ì–´)
end note

note right of api
  **ì£¼ìš” ë¡œì§:**
  - ê´€ë¦¬ì ë¡œê·¸ì¸ ê²€ì¦
  - ì²´í¬ì¸ ì•Œë¦¼ ë°œì†¡
  - ê°œë°œ ë„êµ¬ API

  **í™˜ê²½ ë³€ìˆ˜:**
  - SUPABASE_URL
  - SUPABASE_KEY
  - RESEND_API_KEY
end note

note right of localStorage
  **ìºì‹± ì „ëµ:**
  - Fallback for offline
  - Session persistence

  **ì œí•œ ì‚¬í•­:**
  - 5-10MB storage limit
  - Same-origin policy
end note

' ============================================================================
' ë™ê¸°í™” ì²´í¬ë¦¬ìŠ¤íŠ¸
' ============================================================================
'
' â–¡ ìƒˆë¡œìš´ ì‹¤í–‰ ë‹¨ìœ„ ì¶”ê°€ ì‹œ
'   - Container(...) ì¶”ê°€
'   - Rel(...) ê´€ê³„ ì •ì˜
'
' â–¡ ì»¨í…Œì´ë„ˆ ê°„ ê´€ê³„ ë³€ê²½ ì‹œ
'   - Rel(...) ìˆ˜ì •
'
' â–¡ ì™¸ë¶€ ì‹œìŠ¤í…œ ë³€ê²½ ì‹œ
'   - System_Ext(...) ìˆ˜ì •
'   - Rel(api, ì™¸ë¶€ì‹œìŠ¤í…œ, ...) ìˆ˜ì •
'
' â–¡ ê¸°ìˆ  ìŠ¤íƒ ì—…ë°ì´íŠ¸ ì‹œ
'   - Container ì„¤ëª… ì—…ë°ì´íŠ¸

@enduml
