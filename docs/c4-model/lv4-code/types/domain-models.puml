@startuml Domain Models - Level 4 Code
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Component.puml

' ============================================================================
' CampHost - Domain Models (Level 4: Code)
' ============================================================================
'
' ğŸ”— ì½”ë“œ ê²½ë¡œ: src/types/index.ts
'
' ë„ë©”ì¸ ëª¨ë¸ íƒ€ì… ì •ì˜
' - ê³µí†µ íƒ€ì… (BaseEntity)
' - ì‚¬ìš©ì ê´€ë ¨ íƒ€ì… (User)
' - ìº í•‘ì¥ ê´€ë ¨ íƒ€ì… (Campground, ContactInfo)
' - ì˜ˆì•½ ê´€ë ¨ íƒ€ì… (Reservation)
' - API ì‘ë‹µ íƒ€ì… (ApiResponse, PaginatedResponse)
' - í¼ ê´€ë ¨ íƒ€ì… (FormState)
' - í•„í„° ë° ê²€ìƒ‰ íƒ€ì… (FilterOptions)
' - ì»´í¬ë„ŒíŠ¸ Props íƒ€ì…
' - ìƒíƒœ ê´€ë¦¬ íƒ€ì… (AppState, Action)
' - ì„¤ì • íƒ€ì… (AppConfig)
'
' ============================================================================

title Domain Models - Code Level

' ============================================================================
' 1. ê³µí†µ Base íƒ€ì…
' ============================================================================
interface BaseEntity {
  + id: string
  + createdAt: string
  + updatedAt: string
}

note right of BaseEntity
  **ê³µí†µ ì—”í‹°í‹° Base íƒ€ì…**

  - ëª¨ë“  ë„ë©”ì¸ ì—”í‹°í‹°ê°€ ìƒì†
  - Supabase UUID ê¸°ë°˜ id
  - ISO 8601 íƒ€ì„ìŠ¤íƒ¬í”„
end note

' ============================================================================
' 2. ì‚¬ìš©ì ê´€ë ¨ íƒ€ì…
' ============================================================================
interface User {
  + id: string
  + createdAt: string
  + updatedAt: string
  --
  + name: string
  + email: string
  + phone: string
  + role: UserRole
}

enum UserRole {
  super_admin
  campground_owner
  guest
}

note right of User
  **ì‚¬ìš©ì ì •ë³´ íƒ€ì…**

  - BaseEntity ìƒì†
  - role: ì‚¬ìš©ì ì—­í•  (3ë‹¨ê³„)
    - super_admin: ìŠˆí¼ ê´€ë¦¬ì
    - campground_owner: ìº í•‘ì¥ ì†Œìœ ì
    - guest: ì†ë‹˜
end note

' ============================================================================
' 3. ìº í•‘ì¥ ê´€ë ¨ íƒ€ì…
' ============================================================================
interface Campground {
  + id: string
  + createdAt: string
  + updatedAt: string
  --
  + name: string
  + owner: User
  + contactInfo: ContactInfo
  + address: string
  + description: string
  + status: CampgroundStatus
  + subscriptionPlan: SubscriptionPlan
  + lastActiveAt: string
  + adminUrl: string
  + kioskUrl: string
}

interface ContactInfo {
  + phone: string
  + email: string
}

enum CampgroundStatus {
  active
  pending
  suspended
  terminated
}

enum SubscriptionPlan {
  basic
  premium
  enterprise
}

note right of Campground
  **ìº í•‘ì¥ ì •ë³´ íƒ€ì…**

  - BaseEntity ìƒì†
  - owner: User íƒ€ì… í¬í•¨
  - contactInfo: ì—°ë½ì²˜ ì •ë³´
  - status: ìº í•‘ì¥ ìƒíƒœ (4ë‹¨ê³„)
    - active: í™œì„±
    - pending: ëŒ€ê¸°
    - suspended: ì¼ì‹œì •ì§€
    - terminated: ì¢…ë£Œ
  - subscriptionPlan: êµ¬ë… í”Œëœ (3ë‹¨ê³„)
    - basic: ê¸°ë³¸
    - premium: í”„ë¦¬ë¯¸ì—„
    - enterprise: ì—”í„°í”„ë¼ì´ì¦ˆ
  - adminUrl/kioskUrl: ê° ìº í•‘ì¥ë³„ ê´€ë¦¬/í‚¤ì˜¤ìŠ¤í¬ URL
end note

note right of ContactInfo
  **ì—°ë½ì²˜ ì •ë³´ íƒ€ì…**

  - ì „í™”ë²ˆí˜¸ ë° ì´ë©”ì¼
  - Campgroundì—ì„œ ì‚¬ìš©
end note

' ============================================================================
' 4. ì˜ˆì•½ ê´€ë ¨ íƒ€ì…
' ============================================================================
interface Reservation {
  + id: string
  + createdAt: string
  + updatedAt: string
  --
  + guest: User
  + campground: Campground
  + roomNumber: string
  + checkInDate: string
  + checkOutDate: string
  + guests: number
  + totalAmount: number
  + status: ReservationStatus
  + actualCheckinTime?: string
  + actualCheckoutTime?: string
}

enum ReservationStatus {
  confirmed
  checked-in
  checked-out
  cancelled
}

note right of Reservation
  **ì˜ˆì•½ ì •ë³´ íƒ€ì…**

  - BaseEntity ìƒì†
  - guest: User íƒ€ì… í¬í•¨
  - campground: Campground íƒ€ì… í¬í•¨
  - status: ì˜ˆì•½ ìƒíƒœ (4ë‹¨ê³„)
    - confirmed: ì˜ˆì•½ í™•ì •
    - checked-in: ì²´í¬ì¸ ì™„ë£Œ
    - checked-out: ì²´í¬ì•„ì›ƒ ì™„ë£Œ
    - cancelled: ì·¨ì†Œ
  - actualCheckinTime/actualCheckoutTime: ì‹¤ì œ ì²´í¬ì¸/ì•„ì›ƒ ì‹œê°„ (ì˜µì…”ë„)
end note

' ============================================================================
' 5. API ì‘ë‹µ íƒ€ì…
' ============================================================================
interface "ApiResponse<T>" as ApiResponse {
  + success: boolean
  + data?: T
  + error?: string
  + message?: string
}

interface "PaginatedResponse<T>" as PaginatedResponse {
  + success: boolean
  + data?: T[]
  + error?: string
  + message?: string
  --
  + pagination: PaginationInfo
}

interface PaginationInfo {
  + page: number
  + limit: number
  + total: number
  + totalPages: number
}

note right of ApiResponse
  **ì œë„¤ë¦­ API ì‘ë‹µ íƒ€ì…**

  - ëª¨ë“  API ì‘ë‹µì˜ ê¸°ë³¸ êµ¬ì¡°
  - ì œë„¤ë¦­ íƒ€ì… <T>ë¡œ ìœ ì—°ì„± ì œê³µ
  - success: ì„±ê³µ/ì‹¤íŒ¨ ì—¬ë¶€
  - data: ì‘ë‹µ ë°ì´í„° (ì˜µì…”ë„)
  - error/message: ì—ëŸ¬ ë©”ì‹œì§€ (ì˜µì…”ë„)
end note

note right of PaginatedResponse
  **í˜ì´ì§€ë„¤ì´ì…˜ ì‘ë‹µ íƒ€ì…**

  - ApiResponse<T[]> ìƒì†
  - pagination: í˜ì´ì§€ ì •ë³´
    - page: í˜„ì¬ í˜ì´ì§€
    - limit: í˜ì´ì§€ë‹¹ í•­ëª© ìˆ˜
    - total: ì „ì²´ í•­ëª© ìˆ˜
    - totalPages: ì „ì²´ í˜ì´ì§€ ìˆ˜
end note

' ============================================================================
' 6. í¼ ê´€ë ¨ íƒ€ì…
' ============================================================================
interface "FormState<T>" as FormState {
  + data: T
  + errors: Partial<Record<keyof T, string>>
  + isSubmitting: boolean
  + isValid: boolean
}

note right of FormState
  **ì œë„¤ë¦­ í¼ ìƒíƒœ íƒ€ì…**

  - ì œë„¤ë¦­ íƒ€ì… <T>ë¡œ ìœ ì—°ì„± ì œê³µ
  - data: í¼ ë°ì´í„°
  - errors: í•„ë“œë³„ ì—ëŸ¬ ë©”ì‹œì§€ (ì˜µì…”ë„)
  - isSubmitting: ì œì¶œ ì¤‘ ì—¬ë¶€
  - isValid: ìœ íš¨ì„± ê²€ì¦ ìƒíƒœ

  **ì‚¬ìš© ì˜ˆì‹œ**:
  ```typescript
  FormState<{ name: string, email: string }>
  ```
end note

' ============================================================================
' 7. í•„í„° ë° ê²€ìƒ‰ íƒ€ì…
' ============================================================================
interface FilterOptions {
  + status?: CampgroundStatus | 'all'
  + search?: string
  + page?: number
  + limit?: number
}

note right of FilterOptions
  **í•„í„° ë° ê²€ìƒ‰ ì˜µì…˜ íƒ€ì…**

  - ëª¨ë“  í•„ë“œ ì˜µì…”ë„
  - status: ìº í•‘ì¥ ìƒíƒœ í•„í„° ('all' í¬í•¨)
  - search: ê²€ìƒ‰ì–´
  - page/limit: í˜ì´ì§€ë„¤ì´ì…˜ ì˜µì…˜
end note

' ============================================================================
' 8. ì»´í¬ë„ŒíŠ¸ Props íƒ€ì…
' ============================================================================
interface BaseComponentProps {
  + className?: string
  + children?: React.ReactNode
}

interface ModalProps {
  + className?: string
  + children?: React.ReactNode
  --
  + isOpen: boolean
  + onClose: () => void
  + title?: string
}

interface "TableColumn<T>" as TableColumn {
  + key: keyof T
  + label: string
  + sortable?: boolean
  + render?: (value: any, item: T) => React.ReactNode
}

note right of BaseComponentProps
  **ê¸°ë³¸ ì»´í¬ë„ŒíŠ¸ Props íƒ€ì…**

  - className: CSS í´ë˜ìŠ¤ (ì˜µì…”ë„)
  - children: React ìì‹ ìš”ì†Œ (ì˜µì…”ë„)
end note

note right of ModalProps
  **ëª¨ë‹¬ ì»´í¬ë„ŒíŠ¸ Props íƒ€ì…**

  - BaseComponentProps ìƒì†
  - isOpen: ëª¨ë‹¬ ì—´ë¦¼ ìƒíƒœ
  - onClose: ë‹«ê¸° ì½œë°±
  - title: ëª¨ë‹¬ ì œëª© (ì˜µì…”ë„)
end note

note right of TableColumn
  **ì œë„¤ë¦­ í…Œì´ë¸” ì»¬ëŸ¼ íƒ€ì…**

  - ì œë„¤ë¦­ íƒ€ì… <T>ë¡œ ìœ ì—°ì„± ì œê³µ
  - key: ë°ì´í„° í•„ë“œëª…
  - label: ì»¬ëŸ¼ ë¼ë²¨
  - sortable: ì •ë ¬ ê°€ëŠ¥ ì—¬ë¶€ (ì˜µì…”ë„)
  - render: ì»¤ìŠ¤í…€ ë Œë” í•¨ìˆ˜ (ì˜µì…”ë„)

  **ì‚¬ìš© ì˜ˆì‹œ**:
  ```typescript
  TableColumn<Campground>
  ```
end note

' ============================================================================
' 9. ìƒíƒœ ê´€ë¦¬ íƒ€ì…
' ============================================================================
interface AppState {
  + user: User | null
  + campgrounds: Campground[]
  + reservations: Reservation[]
  + isLoading: boolean
  + error: string | null
}

interface "Action<T>" as Action {
  + type: string
  + payload?: T
}

note right of AppState
  **ì „ì—­ ì• í”Œë¦¬ì¼€ì´ì…˜ ìƒíƒœ íƒ€ì…**

  - user: í˜„ì¬ ë¡œê·¸ì¸ ì‚¬ìš©ì
  - campgrounds: ìº í•‘ì¥ ëª©ë¡
  - reservations: ì˜ˆì•½ ëª©ë¡
  - isLoading: ë¡œë”© ìƒíƒœ
  - error: ì—ëŸ¬ ë©”ì‹œì§€
end note

note right of Action
  **Redux/Reducer ì•¡ì…˜ íƒ€ì…**

  - ì œë„¤ë¦­ íƒ€ì… <T>ë¡œ payload íƒ€ì… ì •ì˜
  - type: ì•¡ì…˜ íƒ€ì… ë¬¸ìì—´
  - payload: ì•¡ì…˜ ë°ì´í„° (ì˜µì…”ë„)

  **ì‚¬ìš© ì˜ˆì‹œ**:
  ```typescript
  Action<Campground>
  Action<{ id: string }>
  ```
end note

' ============================================================================
' 10. ì„¤ì • íƒ€ì…
' ============================================================================
interface AppConfig {
  + apiBaseUrl: string
  + storageKeys: StorageKeys
  + defaultPagination: DefaultPagination
}

interface StorageKeys {
  + user: string
  + campgrounds: string
  + reservations: string
  + campgroundInfo: string
  + superAdmin: string
}

interface DefaultPagination {
  + page: number
  + limit: number
}

note right of AppConfig
  **ì• í”Œë¦¬ì¼€ì´ì…˜ ì„¤ì • íƒ€ì…**

  - apiBaseUrl: API ì—”ë“œí¬ì¸íŠ¸
  - storageKeys: localStorage í‚¤ ëª¨ìŒ
  - defaultPagination: ê¸°ë³¸ í˜ì´ì§€ë„¤ì´ì…˜ ì„¤ì •
end note

note right of StorageKeys
  **localStorage í‚¤ íƒ€ì…**

  - ëª¨ë“  localStorage í‚¤ë¥¼ ì¤‘ì•™ ê´€ë¦¬
  - íƒ€ì… ì•ˆì „ì„± ì œê³µ
end note

' ============================================================================
' íƒ€ì… ê´€ê³„
' ============================================================================

' BaseEntity ìƒì†
User -up-|> BaseEntity
Campground -up-|> BaseEntity
Reservation -up-|> BaseEntity

' í¬í•¨ ê´€ê³„
Campground *-- ContactInfo : contains
Campground *-- User : owner
Reservation *-- User : guest
Reservation *-- Campground : campground
PaginatedResponse *-- PaginationInfo : contains
AppState *-- User : user
AppState *-- Campground : campgrounds[]
AppState *-- Reservation : reservations[]
AppConfig *-- StorageKeys : storageKeys
AppConfig *-- DefaultPagination : defaultPagination

' Enum ì‚¬ìš©
User --> UserRole : uses
Campground --> CampgroundStatus : uses
Campground --> SubscriptionPlan : uses
Reservation --> ReservationStatus : uses
FilterOptions ..> CampgroundStatus : uses

' Props ìƒì†
ModalProps -up-|> BaseComponentProps

' Generic íƒ€ì… ì˜ì¡´ì„± (ì ì„ ìœ¼ë¡œ í‘œì‹œ)
ApiResponse ..> "T" : generic
PaginatedResponse ..> "T" : generic
FormState ..> "T" : generic
TableColumn ..> "T" : generic
Action ..> "T" : generic

' ============================================================================
' ë ˆì´ì•„ì›ƒ íŒíŠ¸
' ============================================================================
BaseEntity -[hidden]down- User
User -[hidden]down- UserRole
Campground -[hidden]down- CampgroundStatus
CampgroundStatus -[hidden]right- SubscriptionPlan
Reservation -[hidden]down- ReservationStatus
ApiResponse -[hidden]down- PaginatedResponse
PaginatedResponse -[hidden]down- PaginationInfo
FormState -[hidden]down- FilterOptions
BaseComponentProps -[hidden]down- ModalProps
ModalProps -[hidden]down- TableColumn
AppState -[hidden]down- Action
Action -[hidden]down- AppConfig

legend right
  **Level 4: Code - Domain Models**

  **íŒŒì¼**: src/types/index.ts
  **ì–¸ì–´**: TypeScript
  **íŒ¨í„´**: Interface-Based Type Definitions

  **íƒ€ì… ë¶„ë¥˜**:

  **1. ë„ë©”ì¸ ì—”í‹°í‹°** (BaseEntity ìƒì†):
  - User: ì‚¬ìš©ì (3ê°€ì§€ ì—­í• )
  - Campground: ìº í•‘ì¥ (4ê°€ì§€ ìƒíƒœ, 3ê°€ì§€ í”Œëœ)
  - Reservation: ì˜ˆì•½ (4ê°€ì§€ ìƒíƒœ)

  **2. API ê´€ë ¨ íƒ€ì…**:
  - ApiResponse<T>: ì œë„¤ë¦­ API ì‘ë‹µ
  - PaginatedResponse<T>: í˜ì´ì§€ë„¤ì´ì…˜ ì‘ë‹µ

  **3. UI ê´€ë ¨ íƒ€ì…**:
  - FormState<T>: í¼ ìƒíƒœ ê´€ë¦¬
  - FilterOptions: í•„í„°/ê²€ìƒ‰ ì˜µì…˜
  - BaseComponentProps: ê³µí†µ Props
  - ModalProps: ëª¨ë‹¬ Props
  - TableColumn<T>: í…Œì´ë¸” ì»¬ëŸ¼ ì •ì˜

  **4. ìƒíƒœ ê´€ë¦¬ íƒ€ì…**:
  - AppState: ì „ì—­ ìƒíƒœ
  - Action<T>: Redux/Reducer ì•¡ì…˜

  **5. ì„¤ì • íƒ€ì…**:
  - AppConfig: ì•± ì„¤ì •
  - StorageKeys: localStorage í‚¤
  - DefaultPagination: í˜ì´ì§€ë„¤ì´ì…˜ ê¸°ë³¸ê°’

  **ì œë„¤ë¦­ íƒ€ì…ì˜ ì¥ì **:
  - íƒ€ì… ì•ˆì „ì„± í–¥ìƒ
  - ì¬ì‚¬ìš©ì„± ê·¹ëŒ€í™”
  - ìœ ì—°í•œ íƒ€ì… ì •ì˜

  **ì„¤ê³„ ì›ì¹™**:
  - ëª¨ë“  ì—”í‹°í‹°ëŠ” BaseEntity ìƒì†
  - Enumìœ¼ë¡œ ìƒìˆ˜ ê°’ íƒ€ì… ì•ˆì „ì„± í™•ë³´
  - Interfaceë¡œ í™•ì¥ ê°€ëŠ¥í•œ êµ¬ì¡°
  - ì œë„¤ë¦­ìœ¼ë¡œ ìœ ì—°ì„± ì œê³µ
  - Optional í•„ë“œë¡œ ìœ ì—°ì„± í™•ë³´

  **ì‚¬ìš© ì˜ˆì‹œ**:
  ```typescript
  // ì—”í‹°í‹° ì‚¬ìš©
  const user: User = {
    id: 'uuid-123',
    name: 'í™ê¸¸ë™',
    email: 'hong@example.com',
    phone: '010-1234-5678',
    role: 'campground_owner',
    createdAt: '2025-01-01T00:00:00Z',
    updatedAt: '2025-01-01T00:00:00Z'
  }

  // API ì‘ë‹µ ì‚¬ìš©
  const response: ApiResponse<User> = {
    success: true,
    data: user
  }

  // í˜ì´ì§€ë„¤ì´ì…˜ ì‘ë‹µ ì‚¬ìš©
  const paginatedResponse: PaginatedResponse<Campground> = {
    success: true,
    data: [campground1, campground2],
    pagination: {
      page: 1,
      limit: 10,
      total: 50,
      totalPages: 5
    }
  }

  // í¼ ìƒíƒœ ì‚¬ìš©
  const formState: FormState<{ name: string, email: string }> = {
    data: { name: '', email: '' },
    errors: {},
    isSubmitting: false,
    isValid: false
  }

  // í…Œì´ë¸” ì»¬ëŸ¼ ì‚¬ìš©
  const columns: TableColumn<Campground>[] = [
    { key: 'name', label: 'ìº í•‘ì¥ëª…', sortable: true },
    { key: 'status', label: 'ìƒíƒœ', render: (v) => <Badge>{v}</Badge> }
  ]
  ```
end legend

@enduml
