@startuml CampHost Web Application Components
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Component.puml

' ============================================================================
' Level 3: Component Diagram - Web Application
' ============================================================================
'
' Web Application (Next.js 14.2) ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì˜ ì£¼ìš” ì»´í¬ë„ŒíŠ¸ë¥¼ í‘œí˜„í•©ë‹ˆë‹¤.
' - UI í˜ì´ì§€ë“¤ (Super Admin, Admin, Kiosk, Landing)
' - Custom Hooks (ë°ì´í„° ê´€ë¦¬ ë¡œì§)
' - Service Layer (ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§)
' - ê³µìœ  ì»´í¬ë„ŒíŠ¸ (ì¬ì‚¬ìš© ê°€ëŠ¥í•œ UI)
'
' ğŸ”— ì´ì „ ë ˆë²¨: lv2-containers/overview.puml
' ğŸ”— ë‹¤ìŒ ë ˆë²¨: lv4-code/webapp-*.puml (í•„ìš”ì‹œ)
' ============================================================================

LAYOUT_WITH_LEGEND()

title Component Diagram for CampHost Web Application

' ============================================================================
' Container Boundary: Web Application
' ============================================================================

Container_Boundary(webapp, "Web Application") {

    ' ------------------------------------------------------------------------
    ' UI Page Components
    ' ------------------------------------------------------------------------

    Component(superAdminUI, "Super Admin UI", "Next.js Page", "ì „ì²´ ìº í•‘ì¥ ê´€ë¦¬ ëŒ€ì‹œë³´ë“œ\n\n**ê²½ë¡œ:** /super-admin/dashboard\n\n**ê¸°ëŠ¥:**\n- ìº í•‘ì¥ ëª©ë¡ ì¡°íšŒ\n- ìº í•‘ì¥ ì¶”ê°€/ìˆ˜ì •/ì‚­ì œ\n- ì‹œìŠ¤í…œ ì „ì²´ í†µê³„\n\nğŸ”— app/super-admin/")

    Component(adminUI, "Admin Dashboard UI", "Next.js Pages", "ìº í•‘ì¥ ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ\n\n**ì£¼ìš” í˜ì´ì§€:**\n- /admin/dashboard (ëŒ€ì‹œë³´ë“œ)\n- /admin/reservations (ì˜ˆì•½ ê´€ë¦¬)\n- /admin/revenue (ë§¤ì¶œ í˜„í™©)\n- /admin/rooms (ê°ì‹¤ ê´€ë¦¬)\n- /admin/stats (í†µê³„)\n- /admin/inquiries (ë¬¸ì˜)\n- /admin/settings (ì„¤ì •)\n\nğŸ”— app/admin/")

    Component(kioskUI, "Kiosk UI", "Next.js Page", "ë¬´ì¸ ì²´í¬ì¸/ì²´í¬ì•„ì›ƒ ì¸í„°í˜ì´ìŠ¤\n\n**ê²½ë¡œ:** /kiosk\n\n**ê¸°ëŠ¥:**\n- QR ì½”ë“œ ìŠ¤ìº”\n- ì²´í¬ì¸/ì²´í¬ì•„ì›ƒ ì²˜ë¦¬\n- ì•Œë¦¼ ì „ì†¡\n\nğŸ”— app/kiosk/")

    Component(landingUI, "Landing Page", "Next.js Page", "ì„œë¹„ìŠ¤ ì†Œê°œ ë° ëœë”© í˜ì´ì§€\n\n**ê²½ë¡œ:** /\n\n**êµ¬ì„± ìš”ì†Œ:**\n- Hero\n- Features\n- Demo (ì²´í¬ì¸ ì‹œì—°)\n- FAQ\n- Apply Section\n\nğŸ”— app/page.tsx\nğŸ”— components/")

    ' ------------------------------------------------------------------------
    ' Shared Components
    ' ------------------------------------------------------------------------

    Component(sharedComponents, "Shared Components", "React Components", "ì¬ì‚¬ìš© ê°€ëŠ¥í•œ UI ì»´í¬ë„ŒíŠ¸\n\n**Common:**\n- QRCodeGenerator (QR ì½”ë“œ ìƒì„±)\n\n**Admin:**\n- ê´€ë¦¬ì ì „ìš© ì»´í¬ë„ŒíŠ¸\n\n**Kiosk:**\n- í‚¤ì˜¤ìŠ¤í¬ ì „ìš© ì»´í¬ë„ŒíŠ¸\n\nğŸ”— src/components/common/\nğŸ”— src/components/admin/\nğŸ”— src/components/kiosk/")

    ' ------------------------------------------------------------------------
    ' Custom Hooks
    ' ------------------------------------------------------------------------

    Component(customHooks, "Custom Hooks", "React Hooks", "ë°ì´í„° ê´€ë¦¬ ë° ìƒíƒœ ë¡œì§\n\n**Hooks:**\n- useCampgrounds (ìº í•‘ì¥ CRUD)\n- useReservations (ì˜ˆì•½ CRUD)\n- useAuth (ì¸ì¦/ë¡œê·¸ì•„ì›ƒ)\n- useForm (í¼ ìƒíƒœ/ê²€ì¦)\n- useFilteredData (í•„í„°ë§/ê²€ìƒ‰)\n- useLocalStorage (ë¡œì»¬ ìŠ¤í† ë¦¬ì§€)\n\nğŸ”— src/hooks/index.ts")

    ' ------------------------------------------------------------------------
    ' Service Layer
    ' ------------------------------------------------------------------------

    Component(serviceLayer, "Service Layer", "TypeScript Classes", "ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ë° ë°ì´í„° ì ‘ê·¼\n\n**Services:**\n- CampgroundService (ìº í•‘ì¥ ê´€ë¦¬)\n- ReservationService (ì˜ˆì•½ ê´€ë¦¬)\n- CampgroundServiceLegacy (ë ˆê±°ì‹œ)\n\n**ì—­í• :**\n- localStorage CRUD\n- ë°ì´í„° ê²€ì¦\n- ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ ì ìš©\n\nğŸ”— lib/campgrounds.ts\nğŸ”— lib/reservations.ts\nğŸ”— lib/campground.ts")

}

' ============================================================================
' External Systems & Storage
' ============================================================================

ContainerDb(localStorage, "Browser Storage", "localStorage", "ì˜¤í”„ë¼ì¸ ìºì‹± ë° ì„¸ì…˜ ê´€ë¦¬\n\n**ì €ì¥ ë°ì´í„°:**\n- ìº í•‘ì¥ ëª©ë¡\n- ì˜ˆì•½ ì •ë³´\n- ì‚¬ìš©ì ì„¸ì…˜")

Container(api, "REST API", "Next.js API Routes", "ì„œë²„ ì‚¬ì´ë“œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§\n\n**ì—”ë“œí¬ì¸íŠ¸:**\n- POST /api/admin/login\n- POST /api/notify/checkin\n- GET/POST /api/dev/*")

' ============================================================================
' Relationships (ê´€ê³„)
' ============================================================================

' UI Pages â†’ Custom Hooks
Rel(superAdminUI, customHooks, "ë°ì´í„° ì¡°íšŒ/ìˆ˜ì •", "useCampgrounds, useAuth")
Rel(adminUI, customHooks, "ì˜ˆì•½/í†µê³„ ì¡°íšŒ", "useReservations, useCampgrounds, useFilteredData")
Rel(kioskUI, customHooks, "ì²´í¬ì¸/ì²´í¬ì•„ì›ƒ", "useReservations, useForm")
Rel(landingUI, customHooks, "ì´ˆê¸° ë°ì´í„° ë¡œë“œ", "useCampgrounds")

' UI Pages â†’ Shared Components
Rel(adminUI, sharedComponents, "UI ì¬ì‚¬ìš©", "Admin Components")
Rel(kioskUI, sharedComponents, "QR ìŠ¤ìº”", "QRCodeGenerator, Kiosk Components")
Rel(superAdminUI, sharedComponents, "ê³µí†µ UI", "Common Components")

' Custom Hooks â†’ Service Layer
Rel(customHooks, serviceLayer, "ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ í˜¸ì¶œ", "CRUD operations")

' Service Layer â†’ Browser Storage
Rel(serviceLayer, localStorage, "ë°ì´í„° ì˜ì†í™”", "localStorage.setItem()\nlocalStorage.getItem()")

' Custom Hooks â†’ Browser Storage
Rel(customHooks, localStorage, "ì§ì ‘ ì ‘ê·¼", "useLocalStorage hook")

' UI Pages â†’ REST API
Rel(adminUI, api, "ì¸ì¦/ì•Œë¦¼", "fetch API")
Rel(kioskUI, api, "ì²´í¬ì¸ ì•Œë¦¼", "POST /api/notify/checkin")

' ============================================================================
' Notes
' ============================================================================

note right of customHooks
  **ì£¼ìš” Hook ì—­í• :**
  - useCampgrounds: ìº í•‘ì¥ CRUD + ìƒíƒœ ê´€ë¦¬
  - useReservations: ì˜ˆì•½ CRUD + ìƒíƒœ ê´€ë¦¬
  - useAuth: ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ + ì„¸ì…˜
  - useForm: í¼ ê²€ì¦ + ì—ëŸ¬ ì²˜ë¦¬
  - useFilteredData: ê²€ìƒ‰/í•„í„°ë§
  - useLocalStorage: localStorage ì¶”ìƒí™”
end note

note right of serviceLayer
  **Service Layer íŒ¨í„´:**
  - ë°ì´í„° ì ‘ê·¼ ë¡œì§ ìº¡ìŠí™”
  - localStorageë¥¼ ì§ì ‘ ì‚¬ìš©
  - UUID ê¸°ë°˜ ID ìƒì„±
  - íƒ€ì… ì•ˆì „ì„± ë³´ì¥

  **í–¥í›„ ê³„íš:**
  - Supabase ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹œ
    Service Layerë§Œ ìˆ˜ì •
end note

note right of sharedComponents
  **ì»´í¬ë„ŒíŠ¸ ë¶„ë¥˜:**
  - Common: ì „ì²´ ê³µí†µ (QR ì½”ë“œ ë“±)
  - Admin: ê´€ë¦¬ì ì „ìš©
  - Kiosk: í‚¤ì˜¤ìŠ¤í¬ ì „ìš©

  **ì¬ì‚¬ìš© ì›ì¹™:**
  - Props ê¸°ë°˜ ì»¤ìŠ¤í„°ë§ˆì´ì§•
  - íƒ€ì… ì•ˆì „ì„± (TypeScript)
end note

' ============================================================================
' ë™ê¸°í™” ì²´í¬ë¦¬ìŠ¤íŠ¸
' ============================================================================
'
' â–¡ ìƒˆë¡œìš´ í˜ì´ì§€ ì¶”ê°€ ì‹œ
'   - Component(...) ì¶”ê°€
'   - í•´ë‹¹ í˜ì´ì§€ê°€ ì‚¬ìš©í•˜ëŠ” Hook/Service ê´€ê³„ ëª…ì‹œ (Rel)
'
' â–¡ Custom Hook ì¶”ê°€ ì‹œ
'   - customHooks ì„¤ëª… ì—…ë°ì´íŠ¸
'   - Service Layerì™€ì˜ ê´€ê³„ í™•ì¸
'
' â–¡ Service ì¶”ê°€ ì‹œ
'   - serviceLayer ì„¤ëª… ì—…ë°ì´íŠ¸
'   - localStorage ê´€ê³„ í™•ì¸
'
' â–¡ ê³µìœ  ì»´í¬ë„ŒíŠ¸ ì¶”ê°€ ì‹œ
'   - sharedComponents ì„¤ëª… ì—…ë°ì´íŠ¸
'   - ì‚¬ìš©í•˜ëŠ” í˜ì´ì§€ì™€ì˜ ê´€ê³„ ëª…ì‹œ
'
' â–¡ API ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€ ì‹œ
'   - api Container ì„¤ëª… ì—…ë°ì´íŠ¸
'   - í˜¸ì¶œí•˜ëŠ” UI Component ê´€ê³„ ì¶”ê°€
'
' â–¡ ì£¼ìš” ë¦¬íŒ©í† ë§ ì‹œ
'   - ì»´í¬ë„ŒíŠ¸ ê°„ ê´€ê³„ ì¬ê²€í† 
'   - ë ˆì´ì–´ ë¶„ë¦¬ ì›ì¹™ í™•ì¸
'
@enduml
