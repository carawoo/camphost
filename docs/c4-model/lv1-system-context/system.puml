@startuml
' ==============================================================================
' [Level 1] System Context - API Monorepo
' ==============================================================================
' Project: @pioncorp/api-monorepo-starter
' Description: ì „ì²´ ì‹œìŠ¤í…œê³¼ ì™¸ë¶€ ì•¡í„°/ì‹œìŠ¤í…œ ê°„ì˜ ìƒí˜¸ì‘ìš©
'
' ğŸ”— ì½”ë“œ ê²½ë¡œ:
'    â€¢ N/A (ì™¸ë¶€ ì‹œìŠ¤í…œ ë° ì•¡í„°)
'
' ğŸ”„ ë™ê¸°í™” ê·œì¹™:
'    âœ… lv2 (overview.puml) ë³€ê²½ ì‹œ ì´ ë‹¤ì´ì–´ê·¸ë¨ í™•ì¸ í•„ìš”
'    âœ… ì™¸ë¶€ ì‹œìŠ¤í…œ ì¶”ê°€/ì œê±° ì‹œ ì´ ë‹¤ì´ì–´ê·¸ë¨ ì—…ë°ì´íŠ¸
'
' ğŸ“ ë³€ê²½ ëŒ€ìƒ:
'    â€¢ System_Ext - ì™¸ë¶€ ì‹œìŠ¤í…œ (Email, SMS, Push, Kakao ë“±)
'    â€¢ Person - ì™¸ë¶€ ì•¡í„° (User, Developer, Admin)
'    â€¢ Rel - ì‹œìŠ¤í…œ ê°„ ê´€ê³„
'
' ğŸ” ë“œë¦´ë‹¤ìš´:
'    â€¢ "API Monorepo System" í™•ëŒ€ â†’ ../lv2-containers/overview.puml
'
' â¬†ï¸  Zoom Out: ì—†ìŒ (ìµœìƒìœ„ ë ˆë²¨)
' ==============================================================================

!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Context.puml

LAYOUT_WITH_LEGEND()

title [Level 1] System Context - API Monorepo

Person(end_user, "End User", "APIë¥¼ ì‚¬ìš©í•˜ëŠ” ìµœì¢… ì‚¬ìš©ì")
Person(developer, "Developer", "ì‹œìŠ¤í…œì„ ê°œë°œ/ìš´ì˜í•˜ëŠ” ê°œë°œì")
Person(admin, "Administrator", "ì‹œìŠ¤í…œ ê´€ë¦¬ì")

System_Boundary(monorepo, "API Monorepo") {
    System(api_system, "API Monorepo System", "TypeScript ESM ê¸°ë°˜ ëª¨ë…¸ë ˆí¬\n- Hono API Server\n- Domain Services\n- Shared Libraries")
}

System_Ext(email_provider, "Email Service", "ì´ë©”ì¼ ë°œì†¡\n(AWS SES, SendGrid)")
System_Ext(sms_provider, "SMS Service", "SMS ë°œì†¡\n(Twilio)")
System_Ext(push_provider, "Push Notification Service", "í‘¸ì‹œ ì•Œë¦¼\n(Firebase FCM)")
System_Ext(kakao_provider, "Kakao Talk Service", "ì¹´ì¹´ì˜¤í†¡ ì•Œë¦¼í†¡")
System_Ext(monitoring, "Monitoring & Logging", "ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹…\n(CloudWatch, Datadog ë“±)")

' User Interactions
Rel(end_user, api_system, "HTTP ìš”ì²­", "REST API / JSON")
Rel(developer, api_system, "ê°œë°œ/ë°°í¬", "Git, CI/CD")
Rel(admin, api_system, "ê´€ë¦¬/ëª¨ë‹ˆí„°ë§", "CLI, Dashboard")

' External Service Interactions
Rel(api_system, email_provider, "ì´ë©”ì¼ ë°œì†¡ ìš”ì²­", "HTTPS/API")
Rel(api_system, sms_provider, "SMS ë°œì†¡ ìš”ì²­", "HTTPS/API")
Rel(api_system, push_provider, "í‘¸ì‹œ ì•Œë¦¼ ìš”ì²­", "HTTPS/API")
Rel(api_system, kakao_provider, "ì•Œë¦¼í†¡ ë°œì†¡ ìš”ì²­", "HTTPS/API")
Rel(api_system, monitoring, "ë¡œê·¸/ë©”íŠ¸ë¦­ ì „ì†¡", "HTTPS")

SHOW_LEGEND()

note right of api_system
  <b>ê¸°ìˆ  ìŠ¤íƒ</b>
  â€¢ TypeScript 5.x (ESM)
  â€¢ Yarn Workspaces
  â€¢ Turborepo
  â€¢ Vitest (í…ŒìŠ¤íŠ¸)
  â€¢ tsyringe (DI)

  <b>ğŸ” Drill Down</b>
  ì´ ì‹œìŠ¤í…œì˜ ë‚´ë¶€ êµ¬ì¡°:
  â†’ ../lv2-containers/overview.puml
end note

note as SyncGuide #FFE0E0
  <b>âš ï¸  ë™ê¸°í™” ì²´í¬ë¦¬ìŠ¤íŠ¸</b>
  ====
  ì´ ë‹¤ì´ì–´ê·¸ë¨ ë³€ê²½ ì‹œ:

  â˜ ìƒˆë¡œìš´ ì™¸ë¶€ ì‹œìŠ¤í…œ ì¶”ê°€?
     â†’ System_Ext ì¶”ê°€
     â†’ Rel ê´€ê³„ ì¶”ê°€

  â˜ lv2 (overview.puml)ì—ì„œ
     ì™¸ë¶€ ì‹œìŠ¤í…œê³¼ì˜ ì—°ê²° í™•ì¸

  â˜ ì™¸ë¶€ ì‹œìŠ¤í…œ ì œê±° ì‹œ
     lv2, lv3, lv4 ì˜í–¥ ë²”ìœ„ í™•ì¸
end note

@enduml
