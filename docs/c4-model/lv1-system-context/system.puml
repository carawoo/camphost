@startuml CampHost System Context
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Context.puml

' ============================================================================
' Level 1: System Context Diagram
' ============================================================================
'
' CampHost ì‹œìŠ¤í…œì˜ ì „ì²´ ì»¨í…ìŠ¤íŠ¸ë¥¼ í‘œí˜„í•©ë‹ˆë‹¤.
' - ì£¼ìš” ì‚¬ìš©ì (Actors): Super Admin, Campground Admin, Camper
' - ì‹œìŠ¤í…œ (CampHost): ìº í•‘ì¥ ë¬´ì¸ ìš´ì˜ ìë™í™” í”Œë«í¼
' - ì™¸ë¶€ ì‹œìŠ¤í…œ (Supabase, Resend)
' - ì‚¬ìš©ì-ì‹œìŠ¤í…œ ê°„ ìƒí˜¸ì‘ìš©
'
' ğŸ”— ë‹¤ìŒ ë ˆë²¨: lv2-containers/overview.puml
' ============================================================================

LAYOUT_WITH_LEGEND()

title System Context Diagram for CampHost

' ============================================================================
' Actors (ì‚¬ìš©ì)
' ============================================================================

Person(superAdmin, "Super Admin", "ì‹œìŠ¤í…œ ì „ì²´ ê´€ë¦¬ì\n\n**ì£¼ìš” í™œë™:**\n- ìº í•‘ì¥ CRUD (ìƒì„±/ì¡°íšŒ/ìˆ˜ì •/ì‚­ì œ)\n- ì‹œìŠ¤í…œ ì „ì²´ ëª¨ë‹ˆí„°ë§\n- QR ì½”ë“œ ìƒì„± ë° ë°°í¬\n- ê°œë°œ ë„êµ¬ ì‚¬ìš©")

Person(campgroundAdmin, "Campground Admin", "ìº í•‘ì¥ ì‚¬ì¥ë‹˜\n\n**ì£¼ìš” í™œë™:**\n- ì˜ˆì•½ ì¡°íšŒ/ìˆ˜ì •/ì‚­ì œ\n- ë§¤ì¶œ í†µê³„ í™•ì¸\n- ë¬¸ì˜ ê´€ë¦¬ ë° ì‘ë‹µ\n- ìº í•‘ì¥ ì„¤ì • ê´€ë¦¬")

Person(camper, "Camper", "ìº í•‘ ê³ ê°\n\n**ì£¼ìš” í™œë™:**\n- QR ì½”ë“œ ìŠ¤ìº” ì²´í¬ì¸/ì²´í¬ì•„ì›ƒ\n- ì˜ˆì•½ ì •ë³´ ì¡°íšŒ\n- ë¬¸ì˜ ì‘ì„±")

' ============================================================================
' System (CampHost)
' ============================================================================

System(camphost, "CampHost", "ìº í•‘ì¥ ë¬´ì¸ ìš´ì˜ ìë™í™” í”Œë«í¼\n\n**í•µì‹¬ ê¸°ëŠ¥:**\n- ë¬´ì¸ ì²´í¬ì¸/ì²´í¬ì•„ì›ƒ ìë™í™”\n- ì˜ˆì•½ ê´€ë¦¬ ë° ë§¤ì¶œ í†µê³„\n- QR ì½”ë“œ ê¸°ë°˜ ì¸ì¦\n- ì´ë©”ì¼ ì•Œë¦¼ (ì²´í¬ì¸, ë¬¸ì˜ ì‘ë‹µ)\n- ì˜¤í”„ë¼ì¸ ì§€ì› (localStorage)\n\n**ê¸°ìˆ  ìŠ¤íƒ:**\n- Next.js 14.2 (App Router)\n- React 18.3\n- TypeScript 5.4\n- Supabase (PostgreSQL)\n- Resend (Email)\n\n**ì•„í‚¤í…ì²˜:**\n- SSR/SSG/CSR í•˜ì´ë¸Œë¦¬ë“œ\n- REST API (Next.js API Routes)\n- Browser Storage (localStorage fallback)")

' ============================================================================
' External Systems (ì™¸ë¶€ ì‹œìŠ¤í…œ)
' ============================================================================

System_Ext(supabase, "Supabase", "PostgreSQL ë°ì´í„°ë² ì´ìŠ¤ ì„œë¹„ìŠ¤\n\n**ì—­í• :**\n- ìº í•‘ì¥ ì •ë³´ ì €ì¥ (campgrounds)\n- ì˜ˆì•½ ì •ë³´ ì €ì¥ (reservations)\n- ë¬¸ì˜ ì •ë³´ ì €ì¥ (inquiries)\n- ëŒ€ì‹œë³´ë“œ ë©”íŠ¸ë¦­ ë·° (dashboard_metrics)\n\n**ì ‘ê·¼ ë°©ì‹:**\n- REST API (Supabase Client)\n- Row Level Security (RLS)\n\n**í´ë°± ì „ëµ:**\n- localStorage (ì˜¤í”„ë¼ì¸ ëª¨ë“œ)\n- ë„¤íŠ¸ì›Œí¬ ì¥ì•  ì‹œ ë¡œì»¬ ìºì‹œ ì‚¬ìš©")

System_Ext(resend, "Resend", "ì´ë©”ì¼ ë°œì†¡ ì„œë¹„ìŠ¤\n\n**ì—­í• :**\n- ì²´í¬ì¸ ì•Œë¦¼ ì´ë©”ì¼ (Plain text)\n- ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì • ì´ë©”ì¼ (HTML)\n- íšŒì›ì •ë³´ ë¬¸ì˜ ì´ë©”ì¼ (HTML)\n\n**API:**\n- REST API (POST /emails)\n- í…œí”Œë¦¿ ê¸°ë°˜ ë°œì†¡")

' ============================================================================
' Relationships (ê´€ê³„)
' ============================================================================

' Super Admin â†’ CampHost
Rel(superAdmin, camphost, "ìº í•‘ì¥ ê´€ë¦¬ ë° ì‹œìŠ¤í…œ ëª¨ë‹ˆí„°ë§", "HTTPS (ë¸Œë¼ìš°ì €)\n\n**ì£¼ìš” ê¸°ëŠ¥:**\n- ìº í•‘ì¥ CRUD\n- QR ì½”ë“œ ìƒì„±\n- ê°œë°œ ë„êµ¬ ì‚¬ìš©\n\n**ì£¼ìš” í˜ì´ì§€:**\n- /super-admin/dashboard")

' Campground Admin â†’ CampHost
Rel(campgroundAdmin, camphost, "ì˜ˆì•½ ê´€ë¦¬ ë° í†µê³„ í™•ì¸", "HTTPS (ë¸Œë¼ìš°ì €)\n\n**ì£¼ìš” ê¸°ëŠ¥:**\n- ì˜ˆì•½ ì¡°íšŒ/ìˆ˜ì •/ì‚­ì œ\n- ë§¤ì¶œ í†µê³„ í™•ì¸\n- ë¬¸ì˜ ê´€ë¦¬\n- ì„¤ì • ë³€ê²½\n\n**ì£¼ìš” í˜ì´ì§€:**\n- /admin/dashboard\n- /admin/reservations\n- /admin/revenue\n- /admin/inquiries\n- /admin/settings")

' Camper â†’ CampHost
Rel(camper, camphost, "ì²´í¬ì¸/ì²´í¬ì•„ì›ƒ ë° ë¬¸ì˜", "HTTPS (ë¸Œë¼ìš°ì €)\n\n**ì£¼ìš” ê¸°ëŠ¥:**\n- QR ì½”ë“œ ìŠ¤ìº”\n- ì˜ˆì•½ ê²€ìƒ‰\n- ì²´í¬ì¸/ì²´í¬ì•„ì›ƒ ì²˜ë¦¬\n- ë¬¸ì˜ ì‘ì„±\n\n**ì£¼ìš” í˜ì´ì§€:**\n- /kiosk\n- / (ëœë”© í˜ì´ì§€)")

' CampHost â†’ Supabase
Rel(camphost, supabase, "ë°ì´í„° CRUD ì‘ì—…", "REST API\n\n**ì£¼ìš” ì‘ì—…:**\n- SELECT (ì¡°íšŒ)\n- INSERT (ìƒì„±)\n- UPDATE (ìˆ˜ì •)\n- DELETE (ì‚­ì œ)\n\n**í…Œì´ë¸”:**\n- campgrounds\n- reservations\n- inquiries\n- dashboard_metrics (view)")

' CampHost â†’ Resend
Rel(camphost, resend, "ì•Œë¦¼ ì´ë©”ì¼ ë°œì†¡", "REST API (POST /emails)\n\n**ì´ë©”ì¼ ì¢…ë¥˜:**\n- ì²´í¬ì¸ ì•Œë¦¼ (Plain text)\n  â†’ ìº í•‘ì¥ ì‚¬ì¥ë‹˜ì—ê²Œ ë°œì†¡\n- ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì • (HTML)\n  â†’ ê´€ë¦¬ì ë¬¸ì˜ ì ‘ìˆ˜\n- íšŒì›ì •ë³´ ë¬¸ì˜ (HTML)\n  â†’ ê´€ë¦¬ì ë¬¸ì˜ ì ‘ìˆ˜")

' ============================================================================
' Notes
' ============================================================================

note right of camphost
  **ì£¼ìš” í˜ì´ì§€:**
  - / (ëœë”© í˜ì´ì§€)
  - /super-admin/dashboard (ì „ì²´ ê´€ë¦¬)
  - /admin/* (ìº í•‘ì¥ ê´€ë¦¬)
  - /kiosk (ë¬´ì¸ ì²´í¬ì¸/ì²´í¬ì•„ì›ƒ)

  **ì•„í‚¤í…ì²˜ íŠ¹ì§•:**
  - Next.js App Router
  - SSR (Server-Side Rendering)
  - SSG (Static Site Generation)
  - CSR (Client-Side Rendering)
  - localStorage fallback (ì˜¤í”„ë¼ì¸)

  **ì£¼ìš” ì»¨í…Œì´ë„ˆ:**
  - Web Application (Next.js)
  - REST API (API Routes)
  - Browser Storage (localStorage)
end note

note right of supabase
  **ì£¼ìš” í…Œì´ë¸”:**
  - campgrounds (ìº í•‘ì¥ ì •ë³´)
    â†’ id, name, address, status, password
  - reservations (ì˜ˆì•½ ì •ë³´)
    â†’ id, campground_id, guest_name, room_number
  - inquiries (ë¬¸ì˜ ì •ë³´)
    â†’ id, campground_id, content, status
  - dashboard_metrics (ë·°)
    â†’ í†µê³„ ë°ì´í„° ì§‘ê³„

  **ë³´ì•ˆ:**
  - Row Level Security (RLS)
  - API Key ì¸ì¦

  **í´ë°± ì „ëµ:**
  - ë„¤íŠ¸ì›Œí¬ ì¥ì•  ì‹œ localStorage ì‚¬ìš©
  - ìº í•‘ì¥/ì˜ˆì•½ ì •ë³´ ë¡œì»¬ ìºì‹±
end note

note right of resend
  **ì´ë©”ì¼ í…œí”Œë¦¿:**
  - ì²´í¬ì¸ ì•Œë¦¼ (Plain text)
    â†’ ìº í•‘ì¥ëª…, ê³ ê°ëª…, ì—°ë½ì²˜, ê°ì‹¤, ë‚ ì§œ
  - ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì • (HTML)
    â†’ ìº í•‘ì¥ëª…, ê´€ë¦¬ìëª…, ì—°ë½ì²˜
  - íšŒì›ì •ë³´ ë¬¸ì˜ (HTML)
    â†’ ìº í•‘ì¥ëª…, ê´€ë¦¬ìëª…, ì—°ë½ì²˜

  **ìˆ˜ì‹ ì:**
  - NOTIFY_EMAIL í™˜ê²½ ë³€ìˆ˜
  - ê¸°ë³¸ê°’: odoichon@odoichon.com

  **ì—ëŸ¬ ì²˜ë¦¬:**
  - ë°œì†¡ ì‹¤íŒ¨ ì‹œ ì½˜ì†” ë¡œê·¸
  - ì‚¬ìš©ìì—ê²Œ ì—ëŸ¬ ë©”ì‹œì§€ í‘œì‹œ
end note

' ============================================================================
' ë™ê¸°í™” ì²´í¬ë¦¬ìŠ¤íŠ¸
' ============================================================================
'
' â–¡ ìƒˆë¡œìš´ ì™¸ë¶€ ì‹œìŠ¤í…œ ì¶”ê°€ ì‹œ
'   - System_Ext(...) ì¶”ê°€
'   - Rel(camphost, ì™¸ë¶€ì‹œìŠ¤í…œ, ...) ì¶”ê°€
'   - Notes ì„¹ì…˜ì— ì„¤ëª… ì¶”ê°€
'   - Level 2 (lv2-containers/overview.puml) ë™ê¸°í™” í™•ì¸
'
' â–¡ ì‚¬ìš©ì ì—­í•  ë³€ê²½ ì‹œ
'   - Person(...) ì„¤ëª… ì—…ë°ì´íŠ¸
'   - Rel(ì‚¬ìš©ì, camphost, ...) ì—…ë°ì´íŠ¸
'   - ì£¼ìš” í™œë™ ëª©ë¡ ìˆ˜ì •
'
' â–¡ ì‹œìŠ¤í…œ ê¸°ëŠ¥ ì¶”ê°€ ì‹œ
'   - System(camphost, ...) ì„¤ëª… ì—…ë°ì´íŠ¸
'   - í•µì‹¬ ê¸°ëŠ¥ ëª©ë¡ ì¶”ê°€
'   - Notes ì„¹ì…˜ì— ì£¼ìš” í˜ì´ì§€ ì¶”ê°€
'   - Level 2 (lv2-containers/overview.puml) ë™ê¸°í™” í™•ì¸
'
' â–¡ ê¸°ìˆ  ìŠ¤íƒ ë³€ê²½ ì‹œ
'   - System(camphost, ...) ê¸°ìˆ  ìŠ¤íƒ ì—…ë°ì´íŠ¸
'   - Level 2 (lv2-containers/overview.puml) Container ì„¤ëª… ì—…ë°ì´íŠ¸
'
' â–¡ ì™¸ë¶€ ì‹œìŠ¤í…œ í†µí•© ë³€ê²½ ì‹œ
'   - System_Ext(...) ì„¤ëª… ì—…ë°ì´íŠ¸
'   - Rel(camphost, ì™¸ë¶€ì‹œìŠ¤í…œ, ...) ê´€ê³„ ìˆ˜ì •
'   - Notes ì„¹ì…˜ ì—…ë°ì´íŠ¸
'
' ============================================================================

@enduml
