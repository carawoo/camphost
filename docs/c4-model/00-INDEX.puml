@startuml CampHost C4 Model Index
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Context.puml
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Component.puml

' ============================================================================
' CampHost System - C4 Model Architecture Documentation
' ============================================================================
'
' ì´ íŒŒì¼ì€ CampHost ì‹œìŠ¤í…œì˜ C4 Model ë‹¤ì´ì–´ê·¸ë¨ì˜ ì‹œì‘ì ì…ë‹ˆë‹¤.
' LLM Agent (Claude)ê°€ ì•„í‚¤í…ì²˜ë¥¼ íŒŒì•…í•  ë•Œ ê°€ì¥ ë¨¼ì € ì°¸ì¡°í•˜ëŠ” íŒŒì¼ì…ë‹ˆë‹¤.
'
' ğŸ“‚ ë””ë ‰í† ë¦¬ êµ¬ì¡°:
' docs/c4-model/
' â”œâ”€â”€ 00-INDEX.puml               â­ ì‹œì‘ì  (í˜„ì¬ íŒŒì¼)
' â”œâ”€â”€ lv1-system-context/         Level 1: System Context
' â”‚   â””â”€â”€ system.puml
' â”œâ”€â”€ lv2-containers/             Level 2: Containers
' â”‚   â””â”€â”€ overview.puml
' â”œâ”€â”€ lv3-components/             Level 3: Components
' â”‚   â”œâ”€â”€ webapp.puml
' â”‚   â””â”€â”€ api.puml
' â””â”€â”€ lv4-code/                  Level 4: Code (í•„ìš”ì‹œ)
'     â””â”€â”€ services/
'
' ğŸ“– ì‚¬ìš© ë°©ë²•:
' 1. Epic/Task ë¶„ì„ ì‹œ: ì´ íŒŒì¼ì„ ë¨¼ì € ì½ì–´ ì‹œìŠ¤í…œ êµ¬ì¡° íŒŒì•…
' 2. ì˜í–¥ ë²”ìœ„ íŒŒì•…: lv1 â†’ lv2 â†’ lv3 â†’ lv4 ìˆœì„œë¡œ íƒìƒ‰
' 3. ì½”ë“œ ìˆ˜ì • í›„: ê° ë ˆë²¨ì˜ ë‹¤ì´ì–´ê·¸ë¨ ë™ê¸°í™” í™•ì¸
'
' ============================================================================

title CampHost System - C4 Model Overview

legend top
  **CampHost**: ì˜¤ë„ì´ì´Œ ìº í•‘ì¥ ë¬´ì¸ ìš´ì˜ ì‹œìŠ¤í…œ

  **ì‹œìŠ¤í…œ ê°œìš”**:
  - Next.js 14.2 ê¸°ë°˜ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜
  - Supabase (PostgreSQL) ë°ì´í„°ë² ì´ìŠ¤
  - Resend ì´ë©”ì¼ ì„œë¹„ìŠ¤ í†µí•©

  **ì£¼ìš” ì‚¬ìš©ì**:
  - Super Admin: ì „ì²´ ìº í•‘ì¥ ê´€ë¦¬
  - Campground Admin: ê°œë³„ ìº í•‘ì¥ ê´€ë¦¬
  - Camper: ë¬´ì¸ ì²´í¬ì¸/ì²´í¬ì•„ì›ƒ

  **ë‹¤ì´ì–´ê·¸ë¨ ë ˆë²¨**:
  - Level 1: System Context â†’ lv1-system-context/system.puml
  - Level 2: Containers â†’ lv2-containers/overview.puml
  - Level 3: Components â†’ lv3-components/*.puml
  - Level 4: Code â†’ lv4-code/**/*.puml
end legend

' ============================================================================
' Level 1: System Context
' ============================================================================
'
' ğŸ“„ íŒŒì¼: lv1-system-context/system.puml
'
' ì‹œìŠ¤í…œê³¼ ì™¸ë¶€ ì•¡í„°(ì‚¬ìš©ì, ì™¸ë¶€ ì‹œìŠ¤í…œ)ì˜ ê´€ê³„ë¥¼ í‘œí˜„í•©ë‹ˆë‹¤.
'
' ì£¼ìš” ë‚´ìš©:
' - Person: Super Admin, Campground Admin, Camper
' - System: CampHost
' - System_Ext: Supabase, Resend
' - Relationships: ê° ì•¡í„°ì™€ ì‹œìŠ¤í…œ ê°„ ìƒí˜¸ì‘ìš©
'
' ğŸ”— ë‹¤ìŒ ë ˆë²¨: lv2-containers/overview.puml

' ============================================================================
' Level 2: Containers
' ============================================================================
'
' ğŸ“„ íŒŒì¼: lv2-containers/overview.puml
'
' CampHost ì‹œìŠ¤í…œ ë‚´ë¶€ì˜ ì£¼ìš” ì»¨í…Œì´ë„ˆ(ì‹¤í–‰ ë‹¨ìœ„)ë¥¼ í‘œí˜„í•©ë‹ˆë‹¤.
'
' ì£¼ìš” ì»¨í…Œì´ë„ˆ:
' - Web Application (Next.js 14.2)
'   - ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ ì œê³µ
'   - SSR/SSG ì§€ì›
'   - í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ë¼ìš°íŒ…
'
' - REST API (Next.js API Routes)
'   - ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì²˜ë¦¬
'   - ì™¸ë¶€ ì„œë¹„ìŠ¤ í†µí•©
'   - ì¸ì¦ ë° ê¶Œí•œ ê²€ì¦
'
' - Browser Storage (localStorage)
'   - ì˜¤í”„ë¼ì¸ ì§€ì›
'   - ë°ì´í„° ìºì‹±
'   - ì„¸ì…˜ ê´€ë¦¬
'
' ğŸ”— ë‹¤ìŒ ë ˆë²¨: lv3-components/*.puml

' ============================================================================
' Level 3: Components
' ============================================================================
'
' ğŸ“„ íŒŒì¼ë“¤:
' - lv3-components/webapp.puml: Web Application ë‚´ë¶€ ì»´í¬ë„ŒíŠ¸
' - lv3-components/api.puml: API ë‚´ë¶€ ì»´í¬ë„ŒíŠ¸
' - lv3-components/services.puml: Services Layer (Legacy + Modern)
'
' Web Application ì»´í¬ë„ŒíŠ¸:
' - Super Admin UI (app/super-admin/)
'   - Dashboard, Campgrounds List, Campground Detail
' - Admin Dashboard UI (app/admin/)
'   - Statistics, Reservation Management, Settings
' - Kiosk UI (app/kiosk/)
'   - Checkin/Checkout Flow
' - Landing Page (app/page.tsx)
' - Custom Hooks (src/hooks/)
'   - useCampgrounds, useReservations, useAuth
'   - useForm, useFilteredData, useLocalStorage
' - Service Layer (lib/, src/services/)
'   - Reservation Service, Campground Services
'   - User Service, Supabase REST Helper
' - Utilities (src/utils/)
'   - StorageManager, DateUtils, ValidationUtils
'   - StringUtils, UrlUtils, ErrorHandler
'
' API ì»´í¬ë„ŒíŠ¸:
' - Admin Login API (/api/admin/login)
' - Checkin Notification API (/api/notify/checkin)
' - Dev Tools API (/api/dev/*)
'
' Services Layer:
' - Legacy Services (lib/): í•¨ìˆ˜í˜• ì„œë¹„ìŠ¤
'   - reservations.ts, campground.ts, campgrounds.ts
' - Modern Services (src/services/): í´ë˜ìŠ¤ ê¸°ë°˜ ì„œë¹„ìŠ¤
'   - CampgroundService, ReservationService, UserService
' - Utilities (src/utils/): ê³µìš© í—¬í¼
'   - StorageManager, DateUtils, ValidationUtils ë“±
'
' ğŸ”— ë‹¤ìŒ ë ˆë²¨: lv4-code/**/*.puml

' ============================================================================
' Level 4: Code
' ============================================================================
'
' ğŸ“„ íŒŒì¼ë“¤:
'
' **Services** (lv4-code/services/):
' - reservation-service.puml: ì˜ˆì•½ ë°ì´í„° ê´€ë¦¬
'   - lib/reservations.ts
'   - getReservations(), addReservation(), updateReservationStatus()
'   - findReservation(), deleteReservation()
'   - localStorage ê¸°ë°˜, ì´ˆê¸° ìƒ˜í”Œ ë°ì´í„° ì œê³µ
'
' - campground-service.puml: ìº í•‘ì¥ ë°ì´í„° ê´€ë¦¬
'   - lib/campground.ts (ë‹¨ì¼ ìº í•‘ì¥ ì •ë³´)
'   - lib/campgrounds.ts (ì „ì²´ ê´€ë¦¬ + Super Admin)
'   - getCampgroundInfo(), getAllCampgrounds(), addCampground()
'   - updateCampgroundStatus(), searchCampgrounds()
'   - authenticateSuperAdmin() (admin/admin123)
'   - localStorage + Supabase UUID ë™ê¸°í™”
'
' - notification-service.puml: ì²´í¬ì¸ ì•Œë¦¼ ì´ë©”ì¼ ë°œì†¡
'   - app/api/notify/checkin/route.ts
'   - POST /api/notify/checkin
'   - Resend ì´ë©”ì¼ ì„œë¹„ìŠ¤ í†µí•©
'   - í™˜ê²½ ë³€ìˆ˜: RESEND_API_KEY, NOTIFY_EMAIL
'
' **Hooks** (lv4-code/hooks/):
' - custom-hooks.puml: React Custom Hooks ì»¬ë ‰ì…˜
'   - src/hooks/index.ts
'   - useCampgrounds: ìº í•‘ì¥ CRUD (useState, useEffect, useCallback)
'   - useReservations: ì˜ˆì•½ CRUD
'   - useAuth: ì‚¬ìš©ì ì¸ì¦ ë° ì„¸ì…˜ ê´€ë¦¬
'   - useForm<T>: ì œë„¤ë¦­ í¼ ê´€ë¦¬ (ìœ íš¨ì„± ê²€ì‚¬, ì—ëŸ¬ ê´€ë¦¬)
'   - useFilteredData<T>: ì œë„¤ë¦­ í•„í„°ë§/ê²€ìƒ‰
'   - useLocalStorage<T>: localStorage ë™ê¸°í™” (SSR ëŒ€ì‘)
'
' **Types** (lv4-code/types/):
' - domain-models.puml: ë„ë©”ì¸ ëª¨ë¸ íƒ€ì… ì •ì˜
'   - src/types/index.ts
'   - BaseEntity: ê³µí†µ ì—”í‹°í‹° (id, createdAt, updatedAt)
'   - User: ì‚¬ìš©ì (role: super_admin | campground_owner | guest)
'   - Campground: ìº í•‘ì¥ (status: active | pending | suspended | terminated)
'   - Reservation: ì˜ˆì•½ (status: confirmed | checked-in | checked-out | cancelled)
'   - ApiResponse<T>, PaginatedResponse<T>: API ì‘ë‹µ íƒ€ì…
'   - FormState<T>: í¼ ìƒíƒœ ê´€ë¦¬
'   - FilterOptions: í•„í„°/ê²€ìƒ‰ ì˜µì…˜
'   - ì»´í¬ë„ŒíŠ¸ Props: BaseComponentProps, ModalProps, TableColumn<T>
'   - ìƒíƒœ ê´€ë¦¬: AppState, Action<T>
'   - ì„¤ì •: AppConfig, StorageKeys, DefaultPagination
'
' ê° ì„œë¹„ìŠ¤ì™€ í›…ì˜ í´ë˜ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨, ë©”ì„œë“œ, ì†ì„±, ì‚¬ìš© ì˜ˆì‹œë¥¼ í‘œí˜„í•©ë‹ˆë‹¤.
'
' ğŸ”— ì½”ë“œ ê²½ë¡œ: ê° ë‹¤ì´ì–´ê·¸ë¨ ìƒë‹¨ì— ëª…ì‹œ

' ============================================================================
' ë‹¤ì´ì–´ê·¸ë¨ ë™ê¸°í™” ì²´í¬ë¦¬ìŠ¤íŠ¸
' ============================================================================
'
' Epic/Task ì™„ë£Œ í›„ Claudeê°€ í™•ì¸í•´ì•¼ í•  ì‚¬í•­:
'
' â–¡ Level 1 (lv1-system-context/system.puml)
'   - ìƒˆë¡œìš´ ì™¸ë¶€ ì‹œìŠ¤í…œ ì¶”ê°€ ì‹œ: System_Ext ì¶”ê°€
'   - ì‚¬ìš©ì ì—­í•  ë³€ê²½ ì‹œ: Person ìˆ˜ì •
'   - ê´€ê³„ ë³€ê²½ ì‹œ: Rel ìˆ˜ì •
'
' â–¡ Level 2 (lv2-containers/overview.puml)
'   - ìƒˆë¡œìš´ ì‹¤í–‰ ë‹¨ìœ„ ì¶”ê°€ ì‹œ: Container ì¶”ê°€
'   - ì»¨í…Œì´ë„ˆ ê°„ ê´€ê³„ ë³€ê²½ ì‹œ: Rel ìˆ˜ì •
'   - ì™¸ë¶€ ì‹œìŠ¤í…œ í†µí•© ë³€ê²½ ì‹œ: System_Ext ë° Rel ìˆ˜ì •
'
' â–¡ Level 3 (lv3-components/*.puml)
'   - webapp.puml:
'     - ìƒˆë¡œìš´ UI í˜ì´ì§€ ì¶”ê°€ ì‹œ: Component ì¶”ê°€
'     - í›… ì¶”ê°€/ë³€ê²½ ì‹œ: Component ë° Rel ìˆ˜ì •
'   - api.puml:
'     - API ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€ ì‹œ: Component ì¶”ê°€
'     - API ë¡œì§ ë³€ê²½ ì‹œ: Component ì„¤ëª… ì—…ë°ì´íŠ¸
'   - services.puml:
'     - ì„œë¹„ìŠ¤ ì¶”ê°€/ë³€ê²½ ì‹œ: Component ë° Rel ìˆ˜ì •
'     - ìœ í‹¸ë¦¬í‹° ì¶”ê°€ ì‹œ: Component ì¶”ê°€
'
' â–¡ Level 4 (lv4-code/**/*.puml)
'   - services/*.puml:
'     - í•¨ìˆ˜/ë©”ì„œë“œ ì¶”ê°€ ì‹œ: í´ë˜ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨ ì—…ë°ì´íŠ¸
'     - íƒ€ì… ë³€ê²½ ì‹œ: class/interface ì •ì˜ ìˆ˜ì •
'   - hooks/*.puml:
'     - í›… ì¶”ê°€/ë³€ê²½ ì‹œ: í›… ì •ì˜ ë° ì˜ì¡´ì„± ì—…ë°ì´íŠ¸
'     - í›… íŒŒë¼ë¯¸í„° ë³€ê²½ ì‹œ: Parameters ì„¹ì…˜ ìˆ˜ì •
'   - types/*.puml:
'     - íƒ€ì… ì •ì˜ ì¶”ê°€/ë³€ê²½ ì‹œ: interface/enum ì—…ë°ì´íŠ¸
'     - íƒ€ì… ê´€ê³„ ë³€ê²½ ì‹œ: ìƒì†/í¬í•¨ ê´€ê³„ ìˆ˜ì •

' ============================================================================
' ë Œë”ë§ ë°©ë²•
' ============================================================================
'
' 1. PlantUML CLI:
'    # ë‹¨ì¼ íŒŒì¼ ë Œë”ë§
'    plantuml docs/c4-model/lv1-system-context/system.puml
'
'    # ì „ì²´ ë””ë ‰í† ë¦¬ ë Œë”ë§
'    plantuml docs/c4-model/**/*.puml
'
'    # PNG ì¶œë ¥ (ê¸°ë³¸)
'    plantuml -tpng docs/c4-model/lv1-system-context/system.puml
'
'    # SVG ì¶œë ¥ (ê¶Œì¥, í™•ëŒ€/ì¶•ì†Œ ê°€ëŠ¥)
'    plantuml -tsvg docs/c4-model/**/*.puml
'
' 2. VS Code í™•ì¥:
'    - PlantUML í™•ì¥ ì„¤ì¹˜: https://marketplace.visualstudio.com/items?itemName=jebbs.plantuml
'    - Alt+D (ë˜ëŠ” Cmd+D): ë¯¸ë¦¬ë³´ê¸° ì—´ê¸°
'    - Ctrl+Shift+P â†’ "PlantUML: Export Current Diagram": PNG/SVG ë‚´ë³´ë‚´ê¸°
'
' 3. Online (ì¸í„°ë„· ì—°ê²° í•„ìš”):
'    - PlantUML Online Editor: http://www.plantuml.com/plantuml/uml/
'    - C4-PlantUML ì˜ˆì œ: https://github.com/plantuml-stdlib/C4-PlantUML
'
' 4. JetBrains IDE (IntelliJ, WebStorm):
'    - PlantUML Integration í”ŒëŸ¬ê·¸ì¸ ì„¤ì¹˜
'    - .puml íŒŒì¼ ì—´ê¸° â†’ ìš°ì¸¡ ë¯¸ë¦¬ë³´ê¸° ìë™ í‘œì‹œ
'
' ============================================================================
' ì‚¬ìš© ê°€ì´ë“œ (LLM Agent)
' ============================================================================
'
' Epic ë¶„ì„ ì‹œ íƒìƒ‰ ìˆœì„œ:
'
' 1. 00-INDEX.puml (í˜„ì¬ íŒŒì¼) ì½ê¸°
'    - ì „ì²´ ì‹œìŠ¤í…œ êµ¬ì¡° íŒŒì•…
'    - ê° ë ˆë²¨ì˜ íŒŒì¼ ëª©ë¡ í™•ì¸
'
' 2. Level 1 â†’ Level 2 â†’ Level 3 â†’ Level 4 ìˆœì„œë¡œ íƒìƒ‰
'    - Epic ìš”êµ¬ì‚¬í•­ê³¼ ê´€ë ¨ëœ ë ˆë²¨ í™•ì¸
'    - ê° ë ˆë²¨ì˜ .puml íŒŒì¼ ì½ê¸°
'
' 3. ì˜í–¥ ë²”ìœ„ íŒŒì•…
'    - Epicì´ ì–´ëŠ ë ˆë²¨ê¹Œì§€ ì˜í–¥ì„ ë¯¸ì¹˜ëŠ”ì§€ í™•ì¸
'    - ë³€ê²½ì´ í•„ìš”í•œ ì»´í¬ë„ŒíŠ¸/í´ë˜ìŠ¤ ì‹ë³„
'
' 4. ì‚¬ìš©ìì—ê²Œ ë¶„ì„ ê²°ê³¼ ì œì‹œ (í•„ìˆ˜)
'    - ì˜í–¥ ë°›ëŠ” ë ˆë²¨ ë° ì»´í¬ë„ŒíŠ¸ ì„¤ëª…
'    - ì˜ˆìƒ ë³€ê²½ì‚¬í•­ ëª…ì‹œ
'    - Task ë¶„í•´ ì „ì— ì‚¬ìš©ì í”¼ë“œë°± ëŒ€ê¸°
'
' 5. Task ìƒì„±
'    - ê° ë‹¤ì´ì–´ê·¸ë¨ì˜ "ğŸ”— ì½”ë“œ ê²½ë¡œ" ì°¸ì¡°
'    - Task ì„¤ëª…ì— ìˆ˜ì •í•  íŒŒì¼ ëª…ì‹œ
'
' 6. Task ì™„ë£Œ í›„ ë‹¤ì´ì–´ê·¸ë¨ ë™ê¸°í™”
'    - Level 4 â†’ Level 3 â†’ Level 2 â†’ Level 1 ìˆœì„œë¡œ ì²´í¬
'    - "ë™ê¸°í™” ì²´í¬ë¦¬ìŠ¤íŠ¸" ì™„ë£Œ
'
' ============================================================================
' ë‹¤ì´ì–´ê·¸ë¨ ê´€ë¦¬ ê°€ì´ë“œ
' ============================================================================
'
' ìƒˆ ë‹¤ì´ì–´ê·¸ë¨ ì¶”ê°€ ì‹œ:
'
' 1. ì ì ˆí•œ ë ˆë²¨ ë””ë ‰í† ë¦¬ì— .puml íŒŒì¼ ìƒì„±
'    - Level 1: lv1-system-context/
'    - Level 2: lv2-containers/
'    - Level 3: lv3-components/
'    - Level 4: lv4-code/{category}/
'
' 2. íŒŒì¼ í—¤ë” ì‘ì„± (í•„ìˆ˜):
'    - C4-PlantUML include ì„ ì–¸
'    - ğŸ”— ì½”ë“œ ê²½ë¡œ ëª…ì‹œ
'    - ë‹¤ì´ì–´ê·¸ë¨ ì„¤ëª… (í•œê¸€)
'
' 3. 00-INDEX.puml ì—…ë°ì´íŠ¸:
'    - í•´ë‹¹ ë ˆë²¨ ì„¹ì…˜ì— íŒŒì¼ ì¶”ê°€
'    - ì£¼ìš” ë‚´ìš© ìš”ì•½
'
' 4. ë™ê¸°í™” ì²´í¬ë¦¬ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸:
'    - ìƒˆ ë‹¤ì´ì–´ê·¸ë¨ ê´€ë ¨ ì²´í¬ í•­ëª© ì¶”ê°€
'
' ë‹¤ì´ì–´ê·¸ë¨ ì‚­ì œ ì‹œ:
'
' 1. íŒŒì¼ ì‚­ì œ ì „ì— ì˜ì¡´ì„± í™•ì¸
'    - ë‹¤ë¥¸ ë‹¤ì´ì–´ê·¸ë¨ì—ì„œ ì°¸ì¡°í•˜ëŠ”ì§€ í™•ì¸
'
' 2. 00-INDEX.pumlì—ì„œ ì œê±°
'    - í•´ë‹¹ ë ˆë²¨ ì„¹ì…˜ì—ì„œ íŒŒì¼ ì •ë³´ ì‚­ì œ
'
' 3. ê´€ë ¨ ì²´í¬ë¦¬ìŠ¤íŠ¸ í•­ëª© ì œê±°

@enduml
