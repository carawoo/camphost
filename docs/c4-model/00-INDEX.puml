@startuml CampHost C4 Model Index
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Context.puml
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Component.puml

' ============================================================================
' CampHost System - C4 Model Architecture Documentation
' ============================================================================
'
' ì´ íŒŒì¼ì€ CampHost ì‹œìŠ¤í…œì˜ C4 Model ë‹¤ì´ì–´ê·¸ë¨ì˜ ì‹œì‘ì ì…ë‹ˆë‹¤.
' LLM Agent (Claude)ê°€ ì•„í‚¤í…ì²˜ë¥¼ íŒŒì•…í•  ë•Œ ê°€ì¥ ë¨¼ì € ì°¸ì¡°í•˜ëŠ” íŒŒì¼ì…ë‹ˆë‹¤.
'
' ğŸ“‚ ë””ë ‰í† ë¦¬ êµ¬ì¡°:
' docs/c4-model/
' â”œâ”€â”€ 00-INDEX.puml               â­ ì‹œì‘ì  (í˜„ì¬ íŒŒì¼)
' â”œâ”€â”€ lv1-system-context/         Level 1: System Context
' â”‚   â””â”€â”€ system.puml
' â”œâ”€â”€ lv2-containers/             Level 2: Containers
' â”‚   â””â”€â”€ overview.puml
' â”œâ”€â”€ lv3-components/             Level 3: Components
' â”‚   â”œâ”€â”€ webapp.puml
' â”‚   â””â”€â”€ api.puml
' â””â”€â”€ lv4-code/                  Level 4: Code (í•„ìš”ì‹œ)
'     â””â”€â”€ services/
'
' ğŸ“– ì‚¬ìš© ë°©ë²•:
' 1. Epic/Task ë¶„ì„ ì‹œ: ì´ íŒŒì¼ì„ ë¨¼ì € ì½ì–´ ì‹œìŠ¤í…œ êµ¬ì¡° íŒŒì•…
' 2. ì˜í–¥ ë²”ìœ„ íŒŒì•…: lv1 â†’ lv2 â†’ lv3 â†’ lv4 ìˆœì„œë¡œ íƒìƒ‰
' 3. ì½”ë“œ ìˆ˜ì • í›„: ê° ë ˆë²¨ì˜ ë‹¤ì´ì–´ê·¸ë¨ ë™ê¸°í™” í™•ì¸
'
' ============================================================================

title CampHost System - C4 Model Overview

legend top
  **CampHost**: ì˜¤ë„ì´ì´Œ ìº í•‘ì¥ ë¬´ì¸ ìš´ì˜ ì‹œìŠ¤í…œ

  **ì‹œìŠ¤í…œ ê°œìš”**:
  - Next.js 14.2 ê¸°ë°˜ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜
  - Supabase (PostgreSQL) ë°ì´í„°ë² ì´ìŠ¤
  - Resend ì´ë©”ì¼ ì„œë¹„ìŠ¤ í†µí•©

  **ì£¼ìš” ì‚¬ìš©ì**:
  - Super Admin: ì „ì²´ ìº í•‘ì¥ ê´€ë¦¬
  - Campground Admin: ê°œë³„ ìº í•‘ì¥ ê´€ë¦¬
  - Camper: ë¬´ì¸ ì²´í¬ì¸/ì²´í¬ì•„ì›ƒ

  **ë‹¤ì´ì–´ê·¸ë¨ ë ˆë²¨**:
  - Level 1: System Context â†’ lv1-system-context/system.puml
  - Level 2: Containers â†’ lv2-containers/overview.puml
  - Level 3: Components â†’ lv3-components/*.puml
  - Level 4: Code â†’ lv4-code/**/*.puml
end legend

' ============================================================================
' Level 1: System Context
' ============================================================================
'
' ğŸ“„ íŒŒì¼: lv1-system-context/system.puml
'
' ì‹œìŠ¤í…œê³¼ ì™¸ë¶€ ì•¡í„°(ì‚¬ìš©ì, ì™¸ë¶€ ì‹œìŠ¤í…œ)ì˜ ê´€ê³„ë¥¼ í‘œí˜„í•©ë‹ˆë‹¤.
'
' ì£¼ìš” ë‚´ìš©:
' - Person: Super Admin, Campground Admin, Camper
' - System: CampHost
' - System_Ext: Supabase, Resend
' - Relationships: ê° ì•¡í„°ì™€ ì‹œìŠ¤í…œ ê°„ ìƒí˜¸ì‘ìš©
'
' ğŸ”— ë‹¤ìŒ ë ˆë²¨: lv2-containers/overview.puml

' ============================================================================
' Level 2: Containers
' ============================================================================
'
' ğŸ“„ íŒŒì¼: lv2-containers/overview.puml
'
' CampHost ì‹œìŠ¤í…œ ë‚´ë¶€ì˜ ì£¼ìš” ì»¨í…Œì´ë„ˆ(ì‹¤í–‰ ë‹¨ìœ„)ë¥¼ í‘œí˜„í•©ë‹ˆë‹¤.
'
' ì£¼ìš” ì»¨í…Œì´ë„ˆ:
' - Web Application (Next.js 14.2)
'   - ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ ì œê³µ
'   - SSR/SSG ì§€ì›
'   - í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ë¼ìš°íŒ…
'
' - REST API (Next.js API Routes)
'   - ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì²˜ë¦¬
'   - ì™¸ë¶€ ì„œë¹„ìŠ¤ í†µí•©
'   - ì¸ì¦ ë° ê¶Œí•œ ê²€ì¦
'
' - Browser Storage (localStorage)
'   - ì˜¤í”„ë¼ì¸ ì§€ì›
'   - ë°ì´í„° ìºì‹±
'   - ì„¸ì…˜ ê´€ë¦¬
'
' ğŸ”— ë‹¤ìŒ ë ˆë²¨: lv3-components/*.puml

' ============================================================================
' Level 3: Components
' ============================================================================
'
' ğŸ“„ íŒŒì¼ë“¤:
' - lv3-components/services.puml: Services Layer ì»´í¬ë„ŒíŠ¸ (NEW)
'   - CacheManager (lib/cache.ts) - Smart Caching
'   - CampgroundService
'   - SupabaseRest
'
' Services Layer ì»´í¬ë„ŒíŠ¸:
' - CacheManager (lib/cache.ts)
'   - TTL ê¸°ë°˜ ìºì‹± ê´€ë¦¬ì
'   - 5ë¶„ TTL, Cache-First ì „ëµ
'   - ìë™ ë§Œë£Œ ë° ê°±ì‹ 
' - CampgroundService (lib/campground.ts)
'   - ìº í•‘ì¥ ë°ì´í„° ê´€ë¦¬
' - SupabaseRest (src/services/supabaseRest.ts)
'   - Supabase REST API í´ë¼ì´ì–¸íŠ¸
'
' ğŸ”— ë‹¤ìŒ ë ˆë²¨: lv4-code/**/*.puml

' ============================================================================
' Level 4: Code (í•„ìš”ì‹œ ì‘ì„±)
' ============================================================================
'
' ğŸ“„ ì˜ˆìƒ íŒŒì¼ë“¤:
' - lv4-code/services/campground-service.puml
' - lv4-code/services/reservation-service.puml
' - lv4-code/hooks/use-campgrounds.puml
'
' ê° ì„œë¹„ìŠ¤ì™€ í›…ì˜ í´ë˜ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨, ë©”ì„œë“œ, ì†ì„±ì„ í‘œí˜„í•©ë‹ˆë‹¤.
'
' âš ï¸ í˜„ì¬ëŠ” Level 3ê¹Œì§€ë§Œ ì‘ì„±í•˜ë©°, í•„ìš”ì‹œ ì¶”ê°€í•©ë‹ˆë‹¤.

' ============================================================================
' ë‹¤ì´ì–´ê·¸ë¨ ë™ê¸°í™” ì²´í¬ë¦¬ìŠ¤íŠ¸
' ============================================================================
'
' Epic/Task ì™„ë£Œ í›„ Claudeê°€ í™•ì¸í•´ì•¼ í•  ì‚¬í•­:
'
' â–¡ Level 1 (lv1-system-context/system.puml)
'   - ìƒˆë¡œìš´ ì™¸ë¶€ ì‹œìŠ¤í…œ ì¶”ê°€ ì‹œ: System_Ext ì¶”ê°€
'   - ì‚¬ìš©ì ì—­í•  ë³€ê²½ ì‹œ: Person ìˆ˜ì •
'
' â–¡ Level 2 (lv2-containers/overview.puml)
'   - ìƒˆë¡œìš´ ì‹¤í–‰ ë‹¨ìœ„ ì¶”ê°€ ì‹œ: Container ì¶”ê°€
'   - ì»¨í…Œì´ë„ˆ ê°„ ê´€ê³„ ë³€ê²½ ì‹œ: Rel ìˆ˜ì •
'
' â–¡ Level 3 (lv3-components/*.puml)
'   - ìƒˆë¡œìš´ UI í˜ì´ì§€ ì¶”ê°€ ì‹œ: Component ì¶”ê°€
'   - ì„œë¹„ìŠ¤/í›… ì¶”ê°€ ì‹œ: Component ë° Rel ìˆ˜ì •
'
' â–¡ Level 4 (lv4-code/**/*.puml)
'   - í´ë˜ìŠ¤/ì¸í„°í˜ì´ìŠ¤ ì¶”ê°€ ì‹œ: í•´ë‹¹ ë‹¤ì´ì–´ê·¸ë¨ ì—…ë°ì´íŠ¸

' ============================================================================
' ë Œë”ë§ ë°©ë²•
' ============================================================================
'
' 1. PlantUML CLI:
'    plantuml docs/c4-model/lv1-system-context/system.puml
'
' 2. VS Code í™•ì¥:
'    - PlantUML í™•ì¥ ì„¤ì¹˜
'    - Alt+Dë¡œ ë¯¸ë¦¬ë³´ê¸°
'
' 3. Online:
'    - http://www.plantuml.com/plantuml/uml/

@enduml
